# 2023.04.04 자바스크립트 딥다이브 (34. 이터러블 / 35. 스프레드 문법 / 36. 디스트럭쳐링 할당)

## 기억하고 싶은 내용

### 이터레이션 프로토콜

이터레이션 프로토콜에는 `이터러블 프로토콜`과 `이터레이터 프로토콜`이 있다.

- 이터러블 프로토콜
  - 이터러블 프로토콜을 준수한 객체를 이터러블이라 한다.
  - 이터러블은 `for ... of`문으로 순회할 수 있으며 스프레드 문법과 배열 디스트럭처링 할당의 대상으로 사용할 수 있다
- 이터레이터 프로토콜
  - 이터레이터 프로토콜을 준수한 객체를 이터레이터라 한다.
  - 이터레이터는 이터러블의 요소를 탐색하기 위한 포인터 역할을 한다



### 스프레드 문법

- 스프레드 문법 `...`은 하나로 뭉쳐 있는 여러 값들의 집합을 펼쳐서 개별적인 값들의 목록으로 만든다.
- 스프레드 문법을 사용할 수 있는 대상은 `for ... of`문으로 순회할 수 있는 이터러블에 한정된다.



### 스프레드 문법과 Rest 파라미터

스프레드 문법은 <u>Rest 파라미터와 형태가 동일하여 혼동할 수 있으므로 주의할 필요가 있다</u>

Rest 파라미터와 스프레드 문법은 서로 반대의 개념이다.

- `Reset 파라미터`
  - 배열로 전달받기 위해 매개변수 이름 앞에 ...을 붙이는 것
- `스프레드 문법`
  - 배열과 같은 이터러블을 펼쳐서 개별적인 값들의 목록을 만드는 것이다.

```javascript
// Rest 파라미터는 인수들의 목록을 배열로 전달받는다.
function foo(...rest){ 
  console.log(rest); 
}

foo(...[1, 2, 3]); //스프레드 문법은 이터러블을 펼쳐서 개별적인 값들의 목록을 만든다.
```



**스프레드 사용 예**

```javascript
const arr = [...[1, 2], ...[3, 4]];
console.log(arr); // [1,2,3,4]

const merged = {x: 1, y: 2, ...{a: 3, b:4}};
console.log(merged);

const merged2 = {...{x: 1, y: 2}, ...{y: 10, z: 3}};

const changed = { ...{x: 1, y: 2}, y: 100};

const added = {...{x: 1, y: 2}, z: 0};
```



### 디스트럭처링 할당

디스트럭처링 할당destructuring assignment (구조 분해 할당)은 구조화된 배열/이터러블/객체를 destructuring(비구조화, 구조 파괴)하여 1개 이상의 변수에 개별적으로 할당하는 것을 말한다.

**배열 디스트럭처링 할당**

```javascript
const [c, d] = [1];
console.log(c, d); // 1 undefined

const [e, f] = [1, 2, 3];
console.log(e, f) // 1 2

const [a, b, c=3] = [1, 2]; // 1 2 3
const [e, f=10, g=3] = [1, 2]; // 1 2 3

const [x, ...y] = [1, 2, 3]; // x = 1, y = [2, 3]

```



**객체 디스트럭처링 할당**

```javascript
const user = {firstName: 'Myungjin', lastName:'Jung'}
const {firstName, lastName} = user; // Myungjin Jung
const {firstName: firstName, lastName: lastName} = user; // Myungjin Jung

const {firstName: "MyungJin", lastName: lastName} = {lastName : 'Jung'}; // Myungjin Jung


const str = 'Helllo';
const {length} = str;
console.log(length) // 5
```







## 느낀점

- 배열은 익숙하지만 이터러블이라는 용어는 익숙하지 않았었다. 책을 읽으면서 이렇게 따로 분리된 이유은 이터러블이 '특성'이기 때문인 것 같다.
- 자바스크립트라는 언어 체계를 설명하려면 그에 해당하는 특성들을 알아야 하는데, 이터러블이라는 용어도 그 중 하나인 것 같다.
- 스프레드 문법과 rest 파라미터 계속 헷깔렸었는데 한번 읽고, 예제 코드들을 보니 이해가 확! 되었다. ~~정 반대의 개념이었는데 왜 때문에 헷깔렸을까~..~~
- 디스트럭처링은 다른 클론코딩이나 강의를 볼때마다 강사님들이 자주 사용하는 기법(?)이었다.
-  눈 대중으로만 보다가 다양한 예시를 접하게 되어 좋았다. 활용도가 매우 높아 프로젝트 시 자주 사용하게 될 것 같다.
