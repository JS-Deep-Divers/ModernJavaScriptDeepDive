# 2023.04.13 자바스크립트 딥다이브 (46. 제너레이터와 async/await)

## 기억하고 싶은 내용

### 제너레이터

- 코드 블록의 실행일 일시 중지했다가 필요한 시점에 재개할 수 있는 특수한 함수
- 제너레이터 함수를 호출하면 함수 코드 블록을 실행하는 것이 아니라 제너레이터 객체를 생성 해 변환한다.
- 제너레이터 객체는 `next`객체를 갖는 이터레이터이며, `return`, `throw`메서드를 갖는다.
- 제너레이터 함수는 함수 호출자에게 제어권을 양도(yield)하여 필요한 시점에 함수를 재개할 수 있다.

- **선언 방식**

  ```javascript
  function* genDecFunc(){
    yield 1;
  }
  ```

  - 화살표 함수로 정의할 수 없다.
  - new 연산자와 함께 생성자 함수로 호출할 수 없다.



### async/await

- 제너레이터를 사용해서 <u>비동기 처리를 동기 처리처럼 동작</u>하도록 구현하는 것은 코드가 무척이나 장황해지고 가독성도 나빠진다.
- ES8에서는 이와같은 단점을 극복하도록 구현할 수 있는 `async`/`await`가 도입되었다.
- async/await는 프로미스를 기반으로 동작한다.
  - async/await를 사용하면 프로미스의 then/catch/finally 후속 처리 메서드에 콜백 함수를 전달해서 비동기 처리 결과를 동기 처리처럼 프로미스를 사용할 수 있다.
- 에러 처리는 `try...catch` 문을 사용할 수 있다.



### async

- 언제나 프로미스를 반환한다.



### await

- **await**키워드는 프로미스가 settled 상태(비동기 처리가 수행된 상태)가 될 때 까지 대기하다가 settled 상태가 되면 resolve한 처리 결과를 반환한다.
- **<u>await 키워드는 다음 실행을 일시 중지시켰다가 프로미스가 settled 상태가 되면 다시 재개한다.</u>**





## 느낀점

- 사실 제너레이터에 대한 동작원리에 대해서 잘 이해하지는 못했으나, **`async/await`** 가 나오기 전에 쓰였던 문법이고, 이제는 자주 쓰이지는 않으니, 현재의 문법부터 익히자는 마음으로 읽어나갔다.
- async/await 함수는 비동기를 동기처럼 동작 한다는 말이 핵심이었던것 같다.