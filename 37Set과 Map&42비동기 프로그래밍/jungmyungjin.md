# 2023.04.04 자바스크립트 딥다이브 (37.Set과 Map / 42. 비동기 프로그래밍)

## 기억하고 싶은 내용

### Set

- 중복되지 않는 유일한 집합
- Set은 수학적 집합을 구현하기 위한 자료구조이다.
- 배열과 유사하지만 배열과 다르게 다음과 같은 차이가 있다
  - 동일한 값을 포함할 수 없다.
  - 요소 순서에 의미가 없다.
  - 인덱스로 요소에 접근할 수 없다.
- set 객체는 Set생성자 함수로 생성한다.
  - 생성자 함수에 인수를 전달하지 않으면 빈 Set 객체가 생성된다.



**Set과 함께 사용되는 메서드**

- `Set.size` : 요소 개수 확인
- `Set.add` : 요소 추가
- `Set.has` : 요소 존재 여부 확인
- `Set.delete` : 특정 요소 삭제
- `Set.clear` : 모든 요소 일괄 삭제



### Map

- Map 객체는 키와 값의 쌍으로 이루어진 컬렉션이다.

- 객체와 유사하지만 다음과 같은 차이가 있다

  - key로 사용할 수 있는 값 : 객체를 포함한 모든 갓ㅂ
  - 이터러블 : O
  - 요소 갯수 확인 : map.size

-  Map 생성자 함수는 이터러블을 인수로 전달받아 Map 객체를 생성한다. 이때 인수로 전달되는 이터러블은 키와 값의 쌍으로 이루어진 요소로 구성되어야 한다

  ```javascript
  const map1 = new Map([['Key1', 'value1'],['Key2', 'value2']]);
  console.log(map1) // Map(2) {'Key1' => 'value1', 'Key2' => 'value2'}
  ```



**Map과 함께 사용되는 메서드**

- `Map.size` :  요소 개수 확인

- `Map.set` : 요소 추가
- `Map.get` : 요소 취득
- `Map.has` : 요소 존재 여부 확인
- `Map.delete` : 요소 삭제
- `Map.clear` : 요소 일괄 삭제





### 비동기 프로그래밍

- 자바스크립트 엔진은 단 하나의 실행 컨텍스트 스택을 갖는다.
  - [실행중인 컨텍스트]를 제외한 모든 실행 컨텍스트는 모두 실행 대기 중인 태스크들이다.
- 자바스크립트 엔진은 싱글스레드식으로 동작한다.



### 이벤트 루프와 태스크 큐



- **이벤트 루프**
  - 콜스택이 비어 있고 태스크 큐에 대기중인 함수가 있다면 이벤트루프는 순차적으로 태스크큐에 대기 중인 함수를 콜스택으로 이동시킨다
- **태스크 큐**
  - 비동기 함수의 콜백 함수 또는 이벤트 핸들러가 일시적으로 보관되는 영역이다.

- 자바스크립트의 동시성을 지원하는 것이 `이벤트 루프`이다.
- `이벤트루프`는 브라우저에 내장되어 있는 기능 중 하나이다.
- **비동기 처리에서 소스코드의 평가와 실행을 제외한 모든 처리는 자바스크립트 엔진을 구동하는 환경인 `브라우저` or `Node.js`가 담당한다.**
  - 예를 들어 비동식 방식으로 동작하는 `setTimeout`의 콜백 함수의 평가와 실행은 자바스크립트 엔진이 담당하지만 호출 스케쥴링을 위한 타이머 설정돠 콜백 함수의 등록은 브라우저 또는 Node.js가 담당한다.
- 비동기 함수인 `setTimeout`의 콜백 함수는 태스크 큐에 푸시되어 대기하다 콜 스택이 비게 되면, 다시 말해 전역 코드 및 명시적으로 호출된 함수가 모두 종료하면 비로소 콜 스택에 푸시되어 실행된다.





## 느낀점

- `Set` 과 `Map` 에 대해서는 잘 모르고 있었던 부분이다. Set 같은 경우에는 배열의 중복 값을 없애는데 사용하는 코드를 몇번 본 적이 있는것 같지만 Map은 아예 처음 보는것 같다.
- 다른사람이 사용한 코드로 보게된다면 이해가 어렵진 않을 것 같으나 실제로 어떤 경우에 사용하면 좋을지 떠오르지 않는다.
- 비동기 함수 이벤트 루프와 태스크 큐의 이론적인 흐름은 이해가 된다. 하지만 돌아서면 까먹을것 같아서 다시한번 책을 읽을 때 유의하면서 읽어야 겠다.

