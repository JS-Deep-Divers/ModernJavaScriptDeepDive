# 자바스크립트 딥다이브 25.클래스

## 기억하고 싶은 내용

### 자바스크립트의 클래스

- 클래스는 ES6에 등장한 함수기반의 새로운 객체 생성 문법이다.
- 클래스와 생성자 함수는 모두 프로토타입 기반의 인스턴스를 생성하지만, <u>정확히 동일하지는 않는다.</u>
- 클래스의 이름은 **파스칼 케이스를 사용**하는 것이 일반적이다.
- 클래스는 일급 객체이다.(클래스는 함수다!)
- 클래스도 호이스팅이 발생한다. (`let`변수와 같은 호이스팅으로 나타난다.)
- 클래스는 생성자 함수와 마찬가지로 프로토타입 기반의 객체 생성 메커니즘 이다.



### 클래스의 선언

- 클래스 선언문으로 정의한 클래스는 <u>**함수 선언문과 동일하게** 런타임 이전에 먼저 평가되어 함수 객체를 생성한다</u>



### constructor : 생성자

- `constructor`는 생략할 수 있다.
  - 생략하면 빈 생성자가 암묵적으로 정의된다. `constructor () {}`
- `constructor`는 별도의 반환문을 갖지 않아야 한다.
  - `this`가 아닌 다른 **객체**를 <u>명시적</u>으로 반환하면 인스턴스가 반환되지 못하고 <u>return 문에 명시한 객체</u>가 반환된다.
  - 원시값을 원시적으로 반환하면 <u>원시값 반환은 무시되고 암묵적으로 this가 반환</u>된다.



### 프로토타입 메서드 (일반 메서드)

- 클래스 몸체에서 정의한 메서드는 `prototype 프로퍼티`에 메서드를 추가하지 않아도 기본적으로 프로토타입 메서드가 된다.
- 프로토타입 메서드는 인스턴스로 호출된다.
- 프로토타입 메서드는 인스턴스 프로퍼티를 참조할 수 있다.



### 정적 메서드 : `static`

- 정적 메서드는 인스턴스 없이도 호출이 가능하다.

  ```javascript
  Person.sayHi(); // new 없이도 호출 가능
  ```

- 정적 메서드는 클래스로 호출된다.
- 정적 메서드는 **인스턴스 프로퍼티를 참조할 수 없다.**



## 클래스의 인스턴시 생성 과정

1. 인스턴스 생성과 `this`바인딩

   1. `new` 연산자와 함께 클래스 호출 시 인스턴스가 될 빈 객체가 생성된다.

   2. 생성자 내부 코드가 실행 된다.
   3. 생성된 인스턴스의 프로토타입은 클래스의 prototype 프로퍼티가 가리키는 객체가 설정된다.
   4. 인스턴스 `this`는 생성된 인스턴스를 가리킨다.

2. 인스턴스 초기화

   1. 생성자 내부 코드가 실행되어, this에 바인딩 되어있는 인스턴스를 초기화 한다

3. 인스턴스 반환

   1. 모든 처리가 끝나고 완성된 인스턴스가 바인딩된 this를 암묵적으로 반홚나다.





## 느낀점

- 이전에 C++로 클래스를 해 본 경험이 있어서 생소하진 않아서 다행이었다.
- 내부적인 동작은 단순하진 않아서 좀 더 살펴봐야 할 것 같다.
- 일단 기본적인 동작 방식만 알아두고 넘어가야겠다.
